{"version":3,"sources":["js/bg.js"],"names":["canvasHeight","SEPARATION","AMOUNTX","AMOUNTY","particleColor","container","camera","scene","renderer","particles","particle","count","mouseX","mouseY","document","createElement","classList","add","setTimeout","remove","body","appendChild","getCanvasContainerWidth","querySelector","clientWidth","windowHalfX","windowHalfY","init","animate","THREE","PerspectiveCamera","position","z","Scene","Array","window","material","SpriteCanvasMaterial","color","program","context","beginPath","arc","Math","PI","fill","i","ix","iy","Sprite","x","CanvasRenderer","setPixelRatio","devicePixelRatio","setSize","domElement","addEventListener","onWindowResize","canvasContainerWidth","aspect","updateProjectionMatrix","requestAnimationFrame","render","defaultCanvasY","defaultCameraPos","set","style","transform","documentElement","scrollTop","e","yValue","target","scrollingElement","setY","y","sin","scale"],"mappings":"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","file":"bg.js","sourceRoot":"../src","sourcesContent":["// minOnSave: true, minifier: uglify-js\nvar canvasHeight = 500; // originally 400\nvar SEPARATION = 100;\nvar AMOUNTX = 80; // originally 80\nvar AMOUNTY = 10; // originally 80\nvar particleColor = \"#3f3f3f\";\n\nvar container;\nvar camera, scene, renderer;\n\nvar particles, particle, count = 0;\n\nvar mouseX = 0, mouseY = 0;\n\ncontainer = document.createElement( 'div' );\ncontainer.classList.add(\"canvas-container\");\ncontainer.classList.add(\"hidden\");\nsetTimeout(function() {\n    container.classList.remove(\"hidden\");\n}, 1000);\ndocument.body.appendChild( container );\n\nfunction getCanvasContainerWidth() {\n\treturn document.querySelector(\".canvas-container\").clientWidth;\n}\n\nvar windowHalfX = getCanvasContainerWidth() / 2;\nvar windowHalfY = canvasHeight / 2;\n\ninit();\nanimate();\n\nfunction init() {\n\n\tcamera = new THREE.PerspectiveCamera( 75, getCanvasContainerWidth() / canvasHeight, 1, 10000 );\n\tcamera.position.z = 10000;\n\n\tscene = new THREE.Scene();\n\n\tparticles = new Array();\n\n\twindow. material = new THREE.SpriteCanvasMaterial( {\n\n\t\tcolor: particleColor,\n\t\tprogram: function ( context ) {\n\n\t\t\tcontext.beginPath();\n\t\t\tcontext.arc( 0, 0, 0.5, 0, 2*Math.PI, true );\n\t\t\tcontext.fill();\n\n\t\t}\n\n\t} );\n\n\tvar i = 0;\n\n\tfor ( var ix = 0; ix < AMOUNTX; ix ++ ) {\n\n\t\tfor ( var iy = 0; iy < AMOUNTY; iy ++ ) {\n\n\t\t\tparticle = particles[ i ++ ] = new THREE.Sprite( material );\n\t\t\tparticle.position.x = ix * SEPARATION - ( ( AMOUNTX * SEPARATION ) / 2 );\n\t\t\tparticle.position.z = iy * SEPARATION - ( ( AMOUNTY * SEPARATION ) / 2 );\n\t\t\tscene.add( particle );\n\n\t\t}\n\n\t}\n\n\trenderer = new THREE.CanvasRenderer();\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setSize( getCanvasContainerWidth(), canvasHeight );\n\tcontainer.appendChild( renderer.domElement );\n\n\twindow.addEventListener( 'resize', onWindowResize, false );\n\n}\n\nfunction onWindowResize() {\n  var canvasContainerWidth = getCanvasContainerWidth();\n\n\twindowHalfX = canvasContainerWidth / 2;\n\twindowHalfY = canvasHeight / 2;\n\n\tcamera.aspect = canvasContainerWidth / canvasHeight;\n\tcamera.updateProjectionMatrix();\n\n\trenderer.setSize( canvasContainerWidth, canvasHeight );\n\n}\n\n//\n\n//\n\nfunction animate() {\n\n\trequestAnimationFrame( animate );\n\n\trender();\n\n}\n\nconst defaultCanvasY = 0\nconst defaultCameraPos = 250\ncamera.position.set(0,defaultCameraPos,1200);\ncontainer.style.transform = `translateY(${defaultCanvasY-0.1*document.documentElement.scrollTop}px)`\ndocument.addEventListener('scroll', (e) => {\n\tlet yValue = e.target.scrollingElement.scrollTop\n\tcamera.position.setY(defaultCameraPos+1*yValue);\n\tcontainer.style.transform = `translateY(${defaultCanvasY-0.1*yValue}px)`\n})\n\nfunction render() {\n\n\tvar i = 0;\n\n\tfor ( var ix = 0; ix < AMOUNTX; ix ++ ) {\n\n\t\tfor ( var iy = 0; iy < AMOUNTY; iy ++ ) {\n\n\t\t\tparticle = particles[ i++ ];\n\t\t\tparticle.position.y = ( Math.sin( ( ix + count ) * 0.3 ) * 50 ) +\n\t\t\t\t( Math.sin( ( iy + count ) * 0.5 ) * 50 );\n\t\t\tparticle.scale.x = particle.scale.y = ( Math.sin( ( ix + count ) * 0.3 ) + 1 ) * 4 +\n\t\t\t\t( Math.sin( ( iy + count ) * 0.5 ) + 1 ) * 4;\n\n\t\t}\n\n\t}\n\n\trenderer.render( scene, camera );\n\n\tcount += 0.1;\n\n}\n"]}